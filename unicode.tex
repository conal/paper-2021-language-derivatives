\RequirePackage{bbding}

%% \usepackage[utf8]{inputenc}  %% ignored with xelatex
%% \usepackage{amssymb}

%%%% From https://github.com/gallais/nary

%% % Misc symbols
%% \newunicodechar{â€²}{\ensuremath{\prime}}
%% \newunicodechar{âˆ’}{\ensuremath{-}}
%% \newunicodechar{â”€}{\ensuremath{-}}
%% \newunicodechar{â—†}{\ensuremath{\Diamondblack}}
%% \newunicodechar{â§«}{\ensuremath{\blacklozenge}}
\newunicodechar{âˆ·}{\ensuremath{\mathbin{::\!}}}
\newunicodechar{âˆ™}{\ensuremath{\bullet}}
%% \newunicodechar{â–¡}{\ensuremath{\Box}}
%% \newunicodechar{âˆ}{\ensuremath{\blacksquare}}
%% \newunicodechar{â‹†}{\ensuremath{\star}}

% indices
\newunicodechar{â‚€}{\ensuremath{_0}}
\newunicodechar{â‚}{\ensuremath{_1}}
\newunicodechar{â‚‚}{\ensuremath{_2}}
\newunicodechar{â‚ƒ}{\ensuremath{_3}}

%% \newunicodechar{â‚–}{\ensuremath{_k}}
%% \newunicodechar{â‚˜}{\ensuremath{_m}}
\newunicodechar{â‚™}{\ensuremath{_n}}
%% \newunicodechar{áµ£}{\ensuremath{_r}}
%% \newunicodechar{â‚›}{\ensuremath{_s}}

%% \newunicodechar{â‚Š}{\ensuremath{_+}}

%% % exponents
%% \newunicodechar{âº}{\ensuremath{\textsuperscript{+}}}
%% \newunicodechar{â»}{\ensuremath{\textsuperscript{-}}}

%% \newunicodechar{Â²}{\ensuremath{^2}}

\newunicodechar{â±}{\ensuremath{^i}}
\newunicodechar{Ë¡}{\raisebox{-2pt}{\ensuremath{^l}}}
\newunicodechar{Ê³}{\raisebox{-1pt}{\ensuremath{^r}}}

%% \newunicodechar{á´¬}{\ensuremath{^A}}
%% \newunicodechar{á´®}{\ensuremath{^B}}
%% \newunicodechar{á´µ}{\ensuremath{^I}}
%% \newunicodechar{á´¿}{\ensuremath{^R}}
%% \newunicodechar{áµ€}{\ensuremath{^T}}
%% \newunicodechar{áµ}{\ensuremath{^U}}
%% \newunicodechar{â±½}{\ensuremath{^V}}

%% % Dots
%% \newunicodechar{â‹¯}{\ensuremath{\cdots}}

%% % Equality symbols
\newunicodechar{â‰¡}{\ensuremath{\equiv}}
%% \newunicodechar{â‰¢}{\ensuremath{\not\equiv}}
\newunicodechar{â‰Ÿ}{\mbox{\tiny\ensuremath{\stackrel{?}{=}}}}
\newunicodechar{â‰ˆ}{\ensuremath{\approx}}

%% % Ordering symbols
%% \newunicodechar{â‰¤}{\ensuremath{\le}}
%% \newunicodechar{â‰¥}{\ensuremath{\ge}}

%% % Arrows
\newunicodechar{â†’}{\ensuremath{\rightarrow}}
%% \newunicodechar{â†}{\ensuremath{\leftarrow}}
%% \newunicodechar{â‡’}{\ensuremath{\Rightarrow}}
%% \newunicodechar{â‡‰}{\ensuremath{\rightrightarrows}}

%% % Mathematical symbols
%% \newunicodechar{âˆ‚}{\ensuremath{\partial}}
%% \newunicodechar{âˆ‹}{\ensuremath{\ni}}
%% \newunicodechar{âˆ}{\ensuremath{\infty}}
\newunicodechar{âˆ€}{\ensuremath{\forall}}
\newunicodechar{âˆƒ}{\ensuremath{\exists}}
%% \newunicodechar{âŠ¢}{\ensuremath{\vdash}}
\newunicodechar{âŸ¨}{\ensuremath{\langle}}
\newunicodechar{âŸ©}{\ensuremath{\rangle}}
%% \newunicodechar{âŠ¤}{\ensuremath{\top}}
\newunicodechar{âˆ˜}{\ensuremath{\circ}}
\newunicodechar{âŠ}{\ensuremath{\uplus}}
\newunicodechar{Ã—}{\ensuremath{\times}}
%% \newunicodechar{â„•}{\ensuremath{\mathbb{N}}}
%% \newunicodechar{âŸ¦}{\ensuremath{\llbracket}}
%% \newunicodechar{âŸ§}{\ensuremath{\rrbracket}}
\newunicodechar{âˆˆ}{\ensuremath{\in}}
%% \newunicodechar{â†‘}{\ensuremath{\uparrow}}
\newunicodechar{Â¬}{\ensuremath{\neg}}
\newunicodechar{âŠ¥}{\ensuremath{\bot}}
%% \newunicodechar{â†}{\ensuremath{\leadsto}}
%% \newunicodechar{â†¶}{\ensuremath{\curvearrowleft}}
%% \newunicodechar{â†º}{\ensuremath{\circlearrowleft}}
\newunicodechar{âŠ”}{\ensuremath{\sqcup}}
%% \newunicodechar{â¨†}{\ensuremath{\bigsqcup}}
\newunicodechar{âˆ©}{\ensuremath{\cap}}
\newunicodechar{âˆª}{\ensuremath{\cup}}


%%%%%%%%%%%%%%%%% LETTERS

%% % Misc
\newunicodechar{â„“}{\ensuremath{\ell}}

%% % Greek uppercase
%% \newunicodechar{Î”}{\ensuremath{\Delta}}
%% \newunicodechar{Î“}{\ensuremath{\Gamma}}
%% \newunicodechar{Î£}{\ensuremath{\Sigma}}
%% \newunicodechar{Î˜}{\ensuremath{\Theta}}
%% \newunicodechar{Î©}{\ensuremath{\Omega}}

%% % Greek lowercase
\newunicodechar{Î±}{\ensuremath{\alpha}}
\newunicodechar{Î²}{\ensuremath{\beta}}
\newunicodechar{Î³}{\ensuremath{\gamma}}
\newunicodechar{Î´}{\ensuremath{\delta}}
\newunicodechar{Îµ}{\ensuremath{\varepsilon}}
\newunicodechar{Ï†}{\ensuremath{\phi}}
\newunicodechar{Î³}{\ensuremath{\gamma}}
\newunicodechar{Î¹}{\ensuremath{\iota}}
\newunicodechar{Îº}{\ensuremath{\kappa}}
\newunicodechar{Î»}{\ensuremath{\lambda}}
\newunicodechar{Î¼}{\ensuremath{\mu}}
\newunicodechar{Ïˆ}{\ensuremath{\psi}}
\newunicodechar{Î·}{\ensuremath{\eta}}
\newunicodechar{Ï}{\ensuremath{\rho}}
\newunicodechar{Ïƒ}{\ensuremath{\sigma}}
\newunicodechar{Ï„}{\ensuremath{\tau}}
\newunicodechar{Î¾}{\ensuremath{\xi}}
\newunicodechar{Î¶}{\ensuremath{\zeta}}
\newunicodechar{Î }{\ensuremath{\Pi}}


%% % mathcal
%% \newunicodechar{ğ“’}{\ensuremath{\mathcal{C}}}
%% \newunicodechar{ğ“”}{\ensuremath{\mathcal{E}}}
%% \newunicodechar{ğ“•}{\ensuremath{\mathcal{F}}}
%% \newunicodechar{ğ“¡}{\ensuremath{\mathcal{R}}}
%% \newunicodechar{ğ“¢}{\ensuremath{\mathcal{S}}}
%% \newunicodechar{ğ“£}{\ensuremath{\mathcal{T}}}
%% \newunicodechar{ğ“¥}{\ensuremath{\mathcal{V}}}
%% \newunicodechar{ğ“¦}{\ensuremath{\mathcal{W}}}


%% Above I copied from gallais's TyDe'19 paper.
%% Below are my additions.

%%https://tex.stackexchange.com/questions/486120/using-the-unicode-prime-character-outside-math-mode-with-unicode-math-and-newuni
\AtBeginDocument{\newunicodechar{â€²}{\ensuremath{'}}}

\newunicodechar{Î½}{\ensuremath{\nu}}
\newunicodechar{âˆ¨}{\ensuremath{\vee}}
\newunicodechar{âˆ§}{\ensuremath{\wedge}}

\newunicodechar{âˆ…}{\ensuremath{\emptyset}}
\newunicodechar{âˆ}{\ensuremath{\complement}}

\newunicodechar{áµ’}{\ensuremath{^o}}

\newunicodechar{ğ’°}{\ensuremath{\mathscr{U}}}

\newunicodechar{ğŸ}{\ensuremath{\mathbf{1}}}

\newcommand\smallOp[2]{\ensuremath{\mathbin{\mbox{\raisebox{#1}{\scriptsize $#2$}}}}}
\newcommand\append{\smallOp{0.5pt}{+\!\!+}}

\newunicodechar{âŠ™}{\ensuremath{\append}}

%% \newunicodechar{â„“}{\ensuremath{\mathcal{l}}}

\newcommand\Star[1]{\ensuremath{\mathop{\hspace{-0.0em}\raisebox{0.6ex}{\tiny #1}}}}

\newunicodechar{âœ¯}{\Star \FiveStarOutlineHeavy}
\newunicodechar{â˜†}{\Star \FiveStarOutlineHeavy}
\newunicodechar{âœ°}{\Star \FiveStarShadow}
\newunicodechar{âœ¶}{\Star \SixStar}
\newunicodechar{âœ¦}{\Star \FourStarOpen}
\newunicodechar{âœ¸}{\Star \EightStarBold}

\newunicodechar{âˆ·}{\ensuremath{\mathbin{\hspace{-0.2em}:\hspace{-0.27em}:\!}}}

%% \newunicodechar{â‹†}{\smallOp{0.75pt}{}}
%% \newunicodechar{â‹†}{\raisebox{-2pt}{\Star \Asterisk}}
\newunicodechar{â‹†}{\ensuremath{\ast}}
%% \newunicodechar{â‹†}{\ensuremath{*}}% "*" seems fine in Libertine.

\newunicodechar{âœ²}{\raisebox{-0.8ex}{\hspace{-0.17em}*}}

\newunicodechar{â‡”}{\ensuremath{\Leftrightarrow}}
\newunicodechar{â†”}{\ensuremath{\leftrightarrow}}
\newunicodechar{âŸ·}{\ensuremath{\longleftrightarrow}}

\newunicodechar{âŠ¤}{{\small \ensuremath{\top}}}

%% I haven't gotten amsmath to work, so use \Box instead of \blacksquare for now.
\newunicodechar{âˆ}{\ensuremath{\blacksquare}}
%% \newunicodechar{âˆ}{\ensuremath{\Box}}

\newunicodechar{ğŸ˜}{\ensuremath{\mathbb{0}}}
\newunicodechar{ğŸ™}{\ensuremath{\mathbb{1}}}

\newunicodechar{â»}{\ensuremath{^-}}
\newunicodechar{â°}{\ensuremath{^0}}
\newunicodechar{Â¹}{\ensuremath{^1}}
\newunicodechar{Â²}{\ensuremath{^2}}
%% \newunicodechar{Ê¸}{\ensuremath{^y}}
%% \newunicodechar{â¿}{\ensuremath{^{\hspace{0.3pt}n}}}
\newunicodechar{á´¸}{\ensuremath{^L}}

\newunicodechar{á´¹}{\ensuremath{^{\!M\!}}}

\newunicodechar{áµ€}{\ensuremath{^Ï„}}
\newunicodechar{áµ—}{\ensuremath{^T}}
\newunicodechar{â±½}{\ensuremath{^v}}

\newunicodechar{â‚—}{\ensuremath{_{\raisebox{2pt}{\tiny \!$l$}}}}
\newunicodechar{áµ£}{\ensuremath{_r}}

\newunicodechar{âˆ¼}{\ensuremath{\sim}}
\newunicodechar{âŒŠ}{\ensuremath{\lfloor}}
\newunicodechar{âŒ‹}{\ensuremath{\rfloor}}
\newunicodechar{â‰—}{\ensuremath{\circeq}}

\newunicodechar{â—ƒ}{\raisebox{0.2ex}{\tiny \ensuremath{\triangleleft}}}
\newunicodechar{â–¹}{\raisebox{0.2ex}{\tiny \ensuremath{\triangleright}}}
\newunicodechar{â—‚}{\raisebox{0.2ex}{\tiny \ensuremath{\blacktriangleleft}}}
\newunicodechar{â–¸}{\raisebox{0.2ex}{\tiny \ensuremath{\blacktriangleright}}}

\newunicodechar{Â·}{\ensuremath{\cdot}}

%% Invisible characters for otherwise clashing definitions.
\newunicodechar{â‡‚}{}
\newunicodechar{â‡ƒ}{}

%% Unobtrusive module name. Decorate the following dot. Note vertical in ex
%% and horizontal in em to adjust with font size.
\newunicodechar{â—¬}{\raisebox{0.23ex}{\ensuremath{_{\diamond}\hspace{-0.352em}}}}
%% \newunicodechar{â–£}{\raisebox{0.23ex}{\ensuremath{\scriptscriptstyle\box}\hspace{-0.28em}}}

%% Another good trick: cause the next symbol to be hat'd, math style, e.g., Ê»Î½ Ê»Î´.
%% A variation on this trick can replace a module dot, etc.
\newcommand\mathHat[1]{\ensuremath{\hat{\mbox{#1}}}}
\newunicodechar{Ê»}{\mathHat}

\newunicodechar{â€½}{\ensuremath{^?}}
